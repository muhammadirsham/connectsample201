<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>UsdPhysics Migration Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__w_1_919a5455eee1e83c_src_usd_physics__m_i_g_r_a_t_i_o_n_g_u_i_d_e.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">UsdPhysics Migration Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Migration from legacy PhysicsSchema </h2>
<ul>
<li>General:<ul>
<li>all attributes are prefixed with physics, so say density is now physics:density attribute</li>
<li>apiName removes physics prefix, so GetDensity is still used</li>
<li>PhysicsSchemaPhysicsScene is now <a class="el" href="class_usd_physics_scene.html" title="Prim to define general physics simulation properties. ">UsdPhysicsScene</a> etc</li>
<li>units:<ul>
<li>units respect metersPerUnit</li>
<li>all dimensional angular values are specified in degrees</li>
</ul>
</li>
</ul>
</li>
<li>PhysicsSchemaAPI and PhysicsSchemaMultipleAPI and its custom Unapply removed - use native UsdPrim::RemoveAPI function instead.</li>
<li>PhysicsScene:<ul>
<li>rename PhysicsSchemaPhysicsScene to <a class="el" href="class_usd_physics_scene.html" title="Prim to define general physics simulation properties. ">UsdPhysicsScene</a></li>
<li>gravity replaced by gravityDirection and gravityMagnitude default values can be used now, default direction (0,0,0) will pick the current -UpAxis default magnitude -inf will pick earth gravity based on metersPerUnit</li>
<li>invertCollisionGroupFilter was moved to PhysxPhysicsScene</li>
</ul>
</li>
<li>PhysicsAPI:<ul>
<li>rename to <a class="el" href="class_usd_physics_rigid_body_a_p_i.html" title="Applies physics body attributes to any UsdGeomXformable prim and marks that prim to be driven by a si...">UsdPhysicsRigidBodyAPI</a></li>
<li>CreatePhysicsEnabledAttr rename to CreateRigidBodyEnabledAttr</li>
<li>bodyType - removed, was not used</li>
<li>PhysxRigidBodyAPI::wakeOnStart replaced by UsdPhysicsRigidBodyAPI::physics::startsAsleep</li>
<li>new attributes physics::velocity and physics::angularVelocity - VelocityAPI was removed</li>
<li>angularVelocity is in degrees</li>
<li>velocity is in world space used by omni.physx, there will be a flag to turn on local space as thats the default behavior to have velocity in a local space</li>
</ul>
</li>
<li>VelocityAPI:<ul>
<li>removed use UsdPhysicsRigidBodyAPI::physics::velocity and UsdPhysicsRigidBodyAPI::physics::angularVelocity instead</li>
</ul>
</li>
<li>MassPI:<ul>
<li>rename to <a class="el" href="class_usd_physics_mass_a_p_i.html" title="Defines explicit mass properties (mass, density, inertia etc.). ">UsdPhysicsMassAPI</a></li>
<li>mass attribute changed to float</li>
<li>density attribute changed to float, density now respects metersPerUnit so a density 1000 when stage is in meters is 0.001 when a stage is in cm</li>
<li>centerOfMass attribute changed from double3 to point3f</li>
<li>diagonalTensor attribute changed from double3 to float3, inertia respects metersPerUnit now, the units are mass*distance*distance</li>
<li>principalAxes attribute changed from quatd to quatf</li>
</ul>
</li>
<li>CollisionAPI:<ul>
<li>rename to <a class="el" href="class_usd_physics_collision_a_p_i.html" title="Applies collision attributes to a UsdGeomXformable prim. ">UsdPhysicsCollisionAPI</a></li>
<li>physicsMaterial rel removed, use material binding instead. There is a helper function for that in physicsUtils.py def add_physics_material_to_prim(stage, prim, materialPath): bindingAPI = UsdShade.MaterialBindingAPI.Apply(prim) materialPrim = UsdShade.Material(stage.GetPrimAtPath(materialPath)) bindingAPI.Bind(materialPrim, UsdShade.Tokens.weakerThanDescendants, "physics")</li>
<li>collisionGroup rel removed, use collection:colliders that automatically applied to a <a class="el" href="class_usd_physics_collision_group.html" title="Defines a collision group for coarse filtering. ">UsdPhysicsCollisionGroup</a>. Colliders that belong a certain collision group are now defined through the collection on a collisionGroup.</li>
</ul>
</li>
<li>PhysxMeshCollisionAPI::approximation was replaced by <a class="el" href="class_usd_physics_mesh_collision_a_p_i.html" title="Attributes to control how a Mesh is made into a collider. ">UsdPhysicsMeshCollisionAPI</a><ul>
<li>use UsdPhysicsMeshCollisionAPI::approximation to define the mesh approximation</li>
</ul>
</li>
<li>PhysicsMaterialAPI:<ul>
<li>density attribute changed from double to float, density now respects metersPerUnit so a density 1000 when stage is in meters is 0.001 when a stage is in cm</li>
</ul>
</li>
<li>CollisionGroup:<ul>
<li>rename to <a class="el" href="class_usd_physics_collision_group.html" title="Defines a collision group for coarse filtering. ">UsdPhysicsCollisionGroup</a></li>
<li>does have automatically UsdCollection:colliders applied, this collection holds the colliders that belong to that group</li>
</ul>
</li>
<li>FilteringPairsAPI:<ul>
<li>rename to <a class="el" href="class_usd_physics_filtered_pairs_a_p_i.html" title="API to describe fine-grained filtering. ">UsdPhysicsFilteredPairsAPI</a></li>
</ul>
</li>
<li>Plane:<ul>
<li>moved to <a class="el" href="class_physx_schema_plane.html" title="Plane geometry primitive. ">PhysxSchemaPlane</a></li>
</ul>
</li>
<li>PhysicsJoint:<ul>
<li>localPos0, localPos1 changed from float3 to point3f</li>
<li>jointFriction - was never used, so got removed</li>
<li>added excludeFromArticulation that defines whether a joint should be excluded from an articulation, maximalJoint can be defined through this</li>
<li>breakForce uses metersPerUnits - mass * distance / time / time</li>
<li>breakTorque uses metersPerUnits - mass * distance * distance / time / time</li>
</ul>
</li>
<li>RevolutePhysicsJoint:<ul>
<li>rename to <a class="el" href="class_usd_physics_revolute_joint.html" title="Predefined revolute joint type (rotation along revolute joint axis is permitted.) ...">UsdPhysicsRevoluteJoint</a></li>
<li>lowerLimit - units in degree now</li>
<li>upperLimit - units in degree now</li>
</ul>
</li>
<li>PrismaticPhysicsJoint:<ul>
<li>rename to <a class="el" href="class_usd_physics_prismatic_joint.html" title="Predefined prismatic joint type (translation along prismatic joint axis is permitted.) ">UsdPhysicsPrismaticJoint</a></li>
</ul>
</li>
<li>SphericalPhysicsJoint:<ul>
<li>rename to <a class="el" href="class_usd_physics_spherical_joint.html" title="Predefined spherical joint type (Removes linear degrees of freedom, cone limit may restrict the motio...">UsdPhysicsSphericalJoint</a></li>
<li>coneAngle0Limit - units in degree now</li>
<li>coneAngle1Limit - units in degree now</li>
</ul>
</li>
<li>DistancePhysicsJoint:<ul>
<li>rename to <a class="el" href="class_usd_physics_distance_joint.html" title="Predefined distance joint type (Distance between rigid bodies may be limited to given minimum or maxi...">UsdPhysicsDistanceJoint</a></li>
</ul>
</li>
<li>FixedPhysicsJoint:<ul>
<li>rename to <a class="el" href="class_usd_physics_fixed_joint.html" title="Predefined fixed joint type (All degrees of freedom are removed.) ">UsdPhysicsFixedJoint</a></li>
</ul>
</li>
<li>LimitAPI:<ul>
<li>rename to <a class="el" href="class_usd_physics_limit_a_p_i.html" title="The PhysicsLimitAPI can be applied to a PhysicsJoint and will restrict the movement along an axis...">UsdPhysicsLimitAPI</a></li>
<li>low - in degree or distance</li>
<li>high - in degree or distance</li>
</ul>
</li>
<li>DriveAPI:<ul>
<li>rename to <a class="el" href="class_usd_physics_drive_a_p_i.html" title="The PhysicsDriveAPI when applied to any joint primitive will drive the joint towards a given target...">UsdPhysicsDriveAPI</a></li>
<li>maxForce - units: linear drive: mass*DIST_UNITS/time/time angular drive: mass*DIST_UNITS*DIST_UNITS/time/time</li>
<li>targetType was removed instead its possible to set both targetPosition and targetVelocity through separate attributes.</li>
<li>targetPosition/targetVelocity for angular drive in degree</li>
</ul>
</li>
<li>ArticulationAPI:</li>
<li>ArticulationJointAPI:<ul>
<li>both were removed and ArticulationRootAPI has been introduced.</li>
<li>fixed articulations should have ArticulationRootAPI on a root joint that is connected to world or in the hierarchy above the joint</li>
<li>floating articulations should have ArticulationRootAPI on a body where articulation starts on in a hierarchy above. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Dec 21 2021 02:46:02 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
